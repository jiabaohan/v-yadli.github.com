    <html>
    <head>
        <link rel="Stylesheet" type="text/css" href="style.css" />
        <title>Effeciency Of Trinity</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </head>
    <body>
        <div class="content">
        

<h1 id="toc_1">Effeciency Of Trinity</h1>

<ul>
<li>
Confirmed:不是ProcessdMessageStorage的问题。

<li>
Confirmed:不是Cell装载的问题。直接把Cell_Implementation放到系统里硬链接没有带来效率提升。

<li>
Confirmed:不是Cell计算后Message交换存储的问题。（直接存回去效率也没有提升）

<li>
Breakthrough:切换到Parallel.Foreach之后，2M Node的图，迭代一轮只要7秒！只要7秒！

<li>
Breakthouggh:切换到Parallel.Foreach之后，Push速度大大提高！

</ul>


<p>
关于Trinity效率的问题：
不能太相信Actionscript，即使Actionscript完全错误，整个系统也应该能够很“健康”地运行<br>
计划在每个SubSyncStep执行之前，检查所有的Message是否到达，如果没有到达，是否已经加入PrefetchList<br>
如果还没有加入PrefetchList的话，那么是Actionscript出了问题，否则的话，就是系统效率出问题了，整个方案可能不Work，或者应该提高网络层的效率<br>
那么如果是PrefetchList的问题的话，也应该有补救的措施——在SubSyncStep之前，就应该通知CacheManager，说下面一批Node即将被处理，立即检查PrefetchList，没有加入的赶紧加入。<br>
</p>

<ul>
<li>
Breakthrough:翻盘了。<br>

</ul>
<p>
网络效能大提升，尖峰达到25%。<br>
上述问题验证了，属实。On-Demand fetch已经被消灭。0 Left。<br>
</p>

        </div>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'yataoblog'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
         var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
         dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
         (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
     </script>
     <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
     <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </body>
</html>


